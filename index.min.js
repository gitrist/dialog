var _config={title:"提示",message:"",sureBtn:"确定",cancelBtn:"取消",sureClick:"",cancelClick:""};function documentFragmentCode(e){var n=document.querySelector("body"),t=document.createDocumentFragment();[{name:"div",className:"dialog-tm",children:[{name:"div",className:"dialog-tm-box",children:[{name:"div",className:"dialog-tm-box-title",innerHTML:_config.title},{name:"div",className:"dialog-tm-box-content",children:"prompt"===e?[{name:"input",className:"dialog-tm-box-content-input",placeholder:"请输入内容"}]:[{name:"div",className:"dialog-tm-box-content-content",innerHTML:_config.message}]},{name:"div",className:"dialog-tm-box-options",children:"alert"===e?[{name:"span",innerHTML:_config.sureBtn,onclick:_config.sureClick}]:[{name:"span",innerHTML:_config.cancelBtn,onclick:_config.cancelClick},{name:"span",innerHTML:_config.sureBtn,onclick:_config.sureClick}]}]}]}].forEach(function(e){!function t(c,e,n){var o=document.createElement(c.name);c.className&&(o.className=c.className),c.innerHTML&&(o.innerHTML=c.innerHTML),c.placeholder&&(o.placeholder=c.placeholder),c.onclick&&(o.onclick=c.onclick),e.appendChild(o),n.appendChild(e),c.children&&c.children.forEach(function(e){var n=document.querySelector("."+c.className);t(e,document.createDocumentFragment(),n)})}(e,t,n)})}function dialogRemove(){document.querySelector(".dialog-tm").remove()}function getValue(){return document.querySelector(".dialog-tm-box-content-input").value}function configInit(e){"[object Object]"===Object.prototype.toString.call(e)?Object.assign(_config,e):"[object String]"===Object.prototype.toString.call(e)&&(_config.message=e)}function alertMessage(e){var n=this;n.status="pendding",n.type="alert",n.eventQueue=[],configInit(e),n.show=function(){_config.sureClick=n.sure,documentFragmentCode(n.type)},n.sure=function(){n.status="success",dialogRemove(),n.eventQueue.forEach(function(e){"[object Function]"!==Object.prototype.toString.call(e)||e&&e(n.status)})},n.then=function(e){"success"===n.status?e&&e():n.eventQueue.push(e)},n.show()}function confirmMessage(e){var t=this;t.status="pendding",t.type="confirm",t.eventQueue=[],t.eventQueueCancel=[],configInit(e),t.show=function(){_config.sureClick=t.sure,_config.cancelClick=t.cancel,documentFragmentCode(t.type)},t.sure=function(){t.status="success",dialogRemove(),t.eventQueue.forEach(function(e){"[object Function]"!==Object.prototype.toString.call(e)||e&&e(t.status)})},t.cancel=function(){t.status="cancel",dialogRemove(),t.eventQueueCancel.forEach(function(e){"[object Function]"!==Object.prototype.toString.call(e)||e&&e(t.status)})},t.then=function(e,n){"success"===t.status&&e&&e(),"pendding"===t.status&&t.eventQueue.push(e),"cancel"===t.status&&t.eventQueueCancel.push(e)},t.show()}function promptMessage(e){var t=this;t.status="pendding",t.type="prompt",t.value="",t.eventQueue=[],t.eventQueueCancel=[],configInit(e),t.show=function(){_config.sureClick=t.sure,_config.cancelClick=t.cancel,documentFragmentCode(t.type)},t.sure=function(){t.status="success",t.value=getValue(),dialogRemove(),t.eventQueue.forEach(function(e){"[object Function]"!==Object.prototype.toString.call(e)||e&&e(t.value)})},t.cancel=function(){t.status="cancel",dialogRemove(),t.eventQueueCancel.forEach(function(e){"[object Function]"!==Object.prototype.toString.call(e)||e&&e(t.status)})},t.then=function(e,n){"success"===t.status&&e&&e(),"pendding"===t.status&&t.eventQueue.push(e),"cancel"===t.status&&t.eventQueueCancel.push(e)},t.show()}var TM={alert:function(e){return new alertMessage(e)},confirm:function(e){return new confirmMessage(e)},prompt:function(e){return new promptMessage(e)}};